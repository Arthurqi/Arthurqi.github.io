(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-Idiom-IdiomResult"],{"02a6":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.getIdiomByKey=function(e,t,n){return(0,a.get)("idiom/head",e,t,n)},t.getIdiomInfo=function(e,t,n){return(0,a.get)("idiom/search",e,t,n)},t.getRandomIdiom=function(e,t,n){return(0,a.get)("idiom/random",e,t,n)},t.getStoryDetail=function(e,t,n){return(0,a.get)("story/details",e,t,n)},t.getStoryList=function(e,t,n){return(0,a.get)("story/list",e,t,n)},t.getStoryTypes=function(e,t,n){return(0,a.get)("story/types",e,t,n)},t.searchDictionary=function(e,t,n){return(0,a.get)("convert/dictionary",e,t,n)};var a=n("57fe")},"1d78":function(e,t,n){"use strict";n("7a82");var a=n("ee27").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("14d9"),n("d3b7"),n("159b"),n("fb6a");var i=a(n("f07e")),o=a(n("c964")),d=n("02a6"),r=a(n("768c")),s={data:function(){return{util:r.default,keyword:"",showNumber:20,searchResult:[],loading:!1}},onLoad:function(e){var t=e.keyword;console.log(t),this.keyword=t,this.getIdiomByKey(),uni.setNavigationBarTitle({title:"".concat(t," 的搜索结果")})},methods:{getIdiomByKey:function(){var e=this;return(0,o.default)((0,i.default)().mark((function t(){var n,a,o;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,""!=e.keyword){t.next=3;break}throw"请输入成语首个汉字或者成语拼音首字母";case 3:if(1==e.keyword.length){t.next=5;break}throw"请输入一个字母或文字";case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t["catch"](0),r.default.toast(t.t0),t.abrupt("return");case 11:return e.loading=!0,t.next=14,(0,d.getIdiomByKey)({head_key:e.keyword});case 14:if(n=t.sent,e.loading=!1,1===n.code){if(a=n.data,a.length>e.showNumber)for(e.searchResult=[],o=0;o<e.showNumber;o++)e.searchResult.push(a[r.default.getRandom(0,a.length)]);else e.searchResult=a;e.searchResult.forEach((function(e){e.next=e.word.slice(-1)})),console.log(e.searchResult)}else r.default.toast("请求太频繁，请稍后搜索");case 17:case"end":return t.stop()}}),t,null,[[0,7]])})))()},next:function(e){this.keyword=e,this.getIdiomByKey()}}};t.default=s},"3aa9":function(e,t,n){"use strict";n.r(t);var a=n("5450"),i=n("7f4a");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("caef");var d=n("f0c5"),r=Object(d["a"])(i["default"],a["b"],a["c"],!1,null,"46dadd50",null,!1,a["a"],void 0);t["default"]=r.exports},5450:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"idiom-result"},[n("v-uni-view",{staticClass:"result-keyword pd30"},[e._v("关于"),n("v-uni-text",{staticClass:"keyword"},[e._v("「"+e._s(e.keyword)+"」")]),e._v("开头的成语有如下几个：")],1),!e.loading&&e.searchResult.length?n("v-uni-view",{staticClass:"result-list mt20 pd30"},e._l(e.searchResult,(function(t,a){return n("v-uni-view",{key:a,staticClass:"result-item",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.util.goPage("/pages/Idiom/IdiomInfo?keyword="+t.word)}}},[n("v-uni-view",{staticClass:"title"},[e._v(e._s(a+1)+"、"+e._s(t.word))]),n("v-uni-view",{staticClass:"desc a-flex a-flex-between"},[n("v-uni-view",{staticClass:"pinyin"},[e._v(e._s(t.pinyin))]),n("v-uni-view",{staticClass:"next",on:{click:function(n){n.stopPropagation(),arguments[0]=n=e.$handleEvent(n),e.next(t.next)}}},[e._v("关于"),n("v-uni-text",{staticClass:"red"},[e._v("「"+e._s(t.next)+"」")]),e._v("开头的成语>>")],1)],1)],1)})),1):e._e(),e.loading||0!=e.searchResult.length?e._e():n("v-uni-view",{staticClass:"nomore pd30"},[e._v("暂没有关于"),n("v-uni-text",{staticClass:"keyword"},[e._v("「"+e._s(e.keyword)+"」")]),e._v("开头的成语")],1)],1)},i=[]},"57fe":function(e,t,n){"use strict";n("7a82");var a=n("ee27").default;Object.defineProperty(t,"__esModule",{value:!0}),t.post=t.get=void 0,n("d3b7"),n("99af"),n("e9c4");a(n("768c"));var i=n("5fb5");function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"加载中",a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e3;return n&&uni.showLoading({title:n,mask:!0}),new Promise((function(d,r){setTimeout((function(){uni.request({url:"".concat(i.BASE_URL).concat(e),data:t,method:a,header:{"Content-Type":"application/json",app_id:"kkbejqlonrilkjlm",app_secret:"M2YxRDlJbVlZT2NTR3hLS0xCQ2FHUT09"},success:function(e){if(200==e.statusCode)switch(e.data.status){case"401":case"-2":console.log("请求有错误:",e);break;case"500":d("服务器错误500："+e.data.status);break;default:d(e.data);break}else console.log("网络错误："+JSON.stringify(e)),d("网络错误："+e.statusCode),uni.showModal({title:"提示",content:"网络错误"+e.statusCode,showCancel:!1,confirmColor:"#f00"})},fail:function(e){console.log("请求出错了:",e),n&&uni.hideLoading(),r(e)},complete:function(e){n&&uni.hideLoading()}})}),o)}))}t.get=function(e,t,n,a){return o(e,t,n,"get",a)};t.post=function(e,t,n,a){return o(e,t,n,"post",a)}},"5fb5":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.BASE_URL=void 0;t.BASE_URL="https://www.mxnzp.com/api/"},"768c":function(e,t,n){"use strict";n("7a82");var a=n("ee27").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("f07e")),o=a(n("c964"));n("fb6a"),n("caad6"),n("498a"),n("14d9"),n("d3b7"),n("d81d"),n("3ca3"),n("ddb0"),n("e25e");n("5fb5");var d=requirePlugin("WechatSI"),r={toast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"出错啦~",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;uni.showToast({title:e,icon:t,duration:n})},goPage:function(e){if(e){var t=e.slice(0,1);if("/"==t){["/pages/Main/Index","/pages/Main/My","/pages/main/order","/pages/main/my"].includes(e)?uni.switchTab({url:e}):uni.navigateTo({url:e})}else this.goMini(e)}else this.toast("敬请期待")},goBack:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;uni.navigateBack(e)},goDirecte:function(e){uni.redirectTo({url:e})},handleLongTextToShort:function(e){e=e.trim();var t=[];if(e.length<=320)t.push(e);else for(var n=Math.ceil(e.length/320),a=0;a<n;a++)a==n-1?t.push(e.slice(320*a,e.length)):t.push(e.slice(320*a,320*(a+1)));return t},textToSpeed:function(e){return new Promise((function(t,n){d.textToSpeech({lang:"zh_CN",tts:!0,content:e,success:function(e){t(e)},fail:function(e){t(e),console.log("文字合成语音错误:",e)}})}))},text2audio:function(e){var t=this,n=this.handleLongTextToShort(e),a=n.map(function(){var e=(0,o.default)((0,i.default)().mark((function e(n){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.textToSpeed(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Promise.all(a)},getRandom:function(e,t){return parseInt(Math.random()*(t-e))+e}},s=r;t.default=s},"7f4a":function(e,t,n){"use strict";n.r(t);var a=n("1d78"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},"924a":function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,".pd30[data-v-46dadd50]{padding:%?30?%}.mt20[data-v-46dadd50]{margin-top:%?20?%}.a-flex[data-v-46dadd50]{display:flex;align-items:center}.a-flex-wrap[data-v-46dadd50]{flex-wrap:wrap}.a-flex-column[data-v-46dadd50]{flex-direction:column}.a-flex-col-center[data-v-46dadd50]{justify-content:center}.a-flex-between[data-v-46dadd50]{justify-content:space-between}.a-flex-around[data-v-46dadd50]{justify-content:space-around}.a-flex1[data-v-46dadd50]{flex:1}.red[data-v-46dadd50]{color:red}.idiom-result[data-v-46dadd50]{min-height:100vh;background:#f5f6f8}.idiom-result .result-keyword[data-v-46dadd50]{font-size:%?40?%;font-weight:700;background:#fff}.idiom-result .keyword[data-v-46dadd50]{color:red}.idiom-result .result-list[data-v-46dadd50]{background:#fff;padding-top:0}.idiom-result .result-list .result-item[data-v-46dadd50]{padding:%?20?% 0;border-bottom:%?1?% solid #ccc}.idiom-result .result-list .result-item .title[data-v-46dadd50]{font-size:%?30?%}.idiom-result .result-list .result-item .desc[data-v-46dadd50]{margin-top:%?20?%;font-size:%?26?%;color:#666}.idiom-result .result-list .result-item .desc .pinyin[data-v-46dadd50]{font-size:%?24?%}.idiom-result .nomore[data-v-46dadd50]{text-align:center}",""]),e.exports=t},caef:function(e,t,n){"use strict";var a=n("e626"),i=n.n(a);i.a},e626:function(e,t,n){var a=n("924a");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("4f06").default;i("2414a934",a,!0,{sourceMap:!1,shadowMode:!1})}}]);